### 支付宝开放平台

#### 第一步 创建应用并获取APPID
首先需要先去蚂蚁金服开放平台，在管理中心创建登记应用，提交审核，通过之后才会给你一个唯一标识 APPID

#### 配置密钥

需要先生成RSA密钥

RSA密钥包含应用私钥 APP_PRIVATE_KEY，应用公钥APP_PUBLIC_KEY。生成密钥之后进行密钥配置，然后可以获取支付宝公钥 ALIPAY_PUBLIC_KEY


#### 系统交互流程，这个也是最重要的

![](https://img.alicdn.com/top/i1/LB1d7GlMVXXXXbTXFXXXXXXXXXX)

1. 使用支付宝付款 用户-> 商户客户端
2. 请求商户服务端，获取签名后的订单信息 商户客户端->商户服务端
3. 返回签名后的订单信息 商户服务端-> 商户客户端
4. 调用支付接口 商户客户端-> 支付宝客户端SDK
5. 支付请求 支付宝客户端SDK->支付宝服务端
6. 完成支付 支付宝服务端-> 支付宝服务端
7. 返回同步支付结果 支付宝服务端-> 支付宝客户端sdk
8. 接口返回支付结果 支付宝客户端SDK -> 商户客户端
9. 同步支付结果返回商户服务端，验签，解析支付结果 商户客户端-> 商户服务端
10. 调用验证接口，验证同步结果数据
11. 返回最终支付结果 商户服务端->商户客户端
12. 显示支付结果 商户客户端-> 用户
13. 异步发送支付通知 支付宝服务端 -> 商户服务端
14. 接收响应 商户服务端-> 支付宝服务端

下面看一下支付宝的签名算法


#### 请求参数签名

2016年11月9日 星期三 天气 阴

最近的工作任务

1. 文章模块，包括文章的数据库表的设计，实体的设计，前台页面的设计，后台逻辑功能的实现

    文章列表  添加文章 编辑文章 删除文章 其他功能

2. 推荐模块

3. API接口的编写

4. 微信支付



#### 微信支付流程
![](https://pay.weixin.qq.com/wiki/doc/api/img/chapter8_3_1.png)

虽然看不清，但是自己可以手动打，支付流程中的角色：微信支付用户/微信客户端/商户APP客户端/商户后台系统/微信支付系统


分解商户客户端和商户服务端都要做那些事情

1. 服务端

```
    /weixin/order

    调用微信的统一下单API，会得到微信返回的预付单信息

    生成带签名的客户端支付信息

    返回信息给商户的客户端
```

```
    /weixin/notify

    接收微信支付系统异步通知的商户结果

    保存支付通知

    返回微信支付系统已成功接收处理的结果
```

```
  /weixin/query

  调用微信api查询支付结果

  接收微信系统返回的结果

  返回给客户端支付结果
```

已经多长时间没有学习了，我讨厌加班，白天的上班消耗了我大量的精力，导致回到家不想再打开电脑撸代码了
说好的，到明年三月份的学习计划呢

虽然现在很累了，但是我也希望自己能有一个小时的时间去学习，学什么都好，每天学习一点，总会进步一点的

现在问题来了，我是继续学习java 本身的源代码 还是框架的源代码呢

总结来总结去，还是Java的代码写的更好，而且说明文档更加详细，是不可多得的学习资料啊

所以我目前的精力还是放在java源代码的学习上吧

java目前涉及到的有Java SE和java EE

先从基础的开始

1.Java集合框架，这个可能是比较重要的，因为这是java的数据结构，而且考察hashmap的原理的面试有很多，
自己虽然不能写出这么强大的代码，但是自己可以不断的模仿，去学习先人牛人的设计和编程思想，为什么要这样写
而不是那样写呢？

希望自己能够从中获取足够的营养，现在自己的编码能力和刚开始的时候提高了不少，也有意识的进行了重构

希望自己以后可以写出更加健壮和优美的代码



2.Java NIO2 这个必须也要掌握，掌握了这个以后还要去学习NETTY或者MINA

3.Java并发 没什么好说的，要重点研究

4.JAVA8 lambda表达式

加油 这个也是我明年三月份之前的学习计划 争取一个月一本书吧

那么开始了哦
